import{_ as a,c as t,a5 as s,o}from"./chunks/framework.B5CpDqM0.js";const u=JSON.parse('{"title":"üõ†Ô∏è NFS","description":"","frontmatter":{"authors":"ShutdownRepo"},"headers":[],"relativePath":"infra/protocols/nfs.md","filePath":"infra/protocols/nfs.md","lastUpdated":1724982529000}'),r={name:"infra/protocols/nfs.md"};function i(n,e,c,l,h,p){return o(),t("div",null,e[0]||(e[0]=[s(`<h1 id="üõ†Ô∏è-nfs" tabindex="-1">üõ†Ô∏è NFS <a class="header-anchor" href="#üõ†Ô∏è-nfs" aria-label="Permalink to &quot;üõ†Ô∏è NFS&quot;">‚Äã</a></h1><h2 id="theory" tabindex="-1">Theory <a class="header-anchor" href="#theory" aria-label="Permalink to &quot;Theory&quot;">‚Äã</a></h2><p>NFS or Network File system allows a client to access files over a network in the same way they would access a local storage file.</p><p>A NFS server determines what ressources to make available and ensures to recognize validated clients. From the client perspective, the machine requests access to a share by issuing a mount request. If successful the client can view and interact with the share as if its his own disk.</p><p>This service is located on the port 2049.</p><h2 id="practice" tabindex="-1">Practice <a class="header-anchor" href="#practice" aria-label="Permalink to &quot;Practice&quot;">‚Äã</a></h2><h3 id="enumerate-mountable-directories" tabindex="-1">Enumerate mountable directories. <a class="header-anchor" href="#enumerate-mountable-directories" aria-label="Permalink to &quot;Enumerate mountable directories.&quot;">‚Äã</a></h3><p>To check which share is available for mount, <em>showmount</em> can be used.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>showmount -e  </span></span>
<span class="line"><span>/ * -&gt; means that the root directory is shared to everyone on the network</span></span>
<span class="line"><span>/  -&gt; means that the root directory is shared with</span></span></code></pre></div><h3 id="mounting-directories" tabindex="-1">Mounting directories. <a class="header-anchor" href="#mounting-directories" aria-label="Permalink to &quot;Mounting directories.&quot;">‚Äã</a></h3><p>A local directory where the shared directory will be mounted is necessary.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mkdir /tmp/local_directory</span></span>
<span class="line"><span>mount -t nfs :/directory /tmp/infosec</span></span></code></pre></div><h3 id="exploiting-nfs-weak-permissions" tabindex="-1">Exploiting NFS weak permissions <a class="header-anchor" href="#exploiting-nfs-weak-permissions" aria-label="Permalink to &quot;Exploiting NFS weak permissions&quot;">‚Äã</a></h3><h4 id="no-root-squash" tabindex="-1">no_root_squash <a class="header-anchor" href="#no-root-squash" aria-label="Permalink to &quot;no_root_squash&quot;">‚Äã</a></h4><p>Root squashing is a configuration that prevents remote root users to get a root access on the mounted NFS volume. Enabled by default remote root users are assigned as <em>nfsnobody ,</em> which is a role that has the least local privileges.</p><p>Alternatively &quot;no_root_squash&quot; parameter turns off this configuration and gives to the remote user, root access to the NFS volume.</p><p><a href="https://book.hacktricks.xyz/linux-unix/privilege-escalation/nfs-no_root_squash-misconfiguration-pe" target="_blank" rel="noreferrer">https://book.hacktricks.xyz/linux-unix/privilege-escalation/nfs-no_root_squash-misconfiguration-pe</a></p><h2 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">‚Äã</a></h2>`,18)]))}const m=a(r,[["render",i]]);export{u as __pageData,m as default};
