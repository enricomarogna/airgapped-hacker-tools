import{_ as o,c as p,a5 as l,G as t,w as a,j as s,a as e,B as h,o as d}from"./chunks/framework.B5CpDqM0.js";const f=JSON.parse('{"title":"API","description":"","frontmatter":{"authors":"0xlildoudou"},"headers":[],"relativePath":"web/inputs/api.md","filePath":"web/inputs/api.md","lastUpdated":1726153096000}'),k={name:"web/inputs/api.md"};function c(u,i,g,F,b,m){const n=h("PluginTabsTab"),r=h("PluginTabs");return d(),p("div",null,[i[4]||(i[4]=l('<h1 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h1><h2 id="theory" tabindex="-1">Theory <a class="header-anchor" href="#theory" aria-label="Permalink to &quot;Theory&quot;">​</a></h2><p>The API pentesting methodology begins with reconnaissance, where information is gathered about the API, including its endpoints, parameters, and authentication methods. Next, testers assess authentication and authorization to ensure proper access control and attempt to bypass them. Input validation is then tested by sending crafted payloads to identify vulnerabilities like injection attacks. Business logic testing follows, ensuring the API handles data and functions correctly without unintended consequences. Rate limiting and denial-of-service (DoS) protections are evaluated to prevent excessive requests. Finally, a detailed report is created, documenting findings, vulnerabilities, and recommendations for remediation.</p><h2 id="practice" tabindex="-1">Practice <a class="header-anchor" href="#practice" aria-label="Permalink to &quot;Practice&quot;">​</a></h2><h3 id="api-types" tabindex="-1">API types <a class="header-anchor" href="#api-types" aria-label="Permalink to &quot;API types&quot;">​</a></h3><ul><li>SOAP/XML Web Services : SOAP (Simple Object Access Protocol) is an XML-based protocol for exchanging structured information in the implementation of web services.</li><li>REST APIs (JSON) : The specificity of a REST API lies in its statelessness, use of standard HTTP methods (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>), and resource-based structure with responses typically formatted in JSON or XML.</li><li>GraphQL : A query language for APIs offering a complete and understandable description of the data in your API.</li></ul><h3 id="endpoints-discovering" tabindex="-1">Endpoints discovering <a class="header-anchor" href="#endpoints-discovering" aria-label="Permalink to &quot;Endpoints discovering&quot;">​</a></h3><p>Discover API endpoint with fuzzing.</p>',8)),t(r,null,{default:a(()=>[t(n,{label:"FFUF"},{default:a(()=>i[0]||(i[0]=[s("p",null,[s("a",{href:"https://github.com/ffuf/ffuf",target:"_blank",rel:"noreferrer"},"FFUF"),e(" A fast web fuzzer written in Go.")],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ffuf"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -w"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /path/to/wordlist"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -u"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://target/FUZZ")])])])],-1)])),_:1}),t(n,{label:"APIFuzzer"},{default:a(()=>i[1]||(i[1]=[s("p",null,[s("a",{href:"https://github.com/KissPeter/APIFuzzer",target:"_blank",rel:"noreferrer"},"APIFuzzer"),e(" reads your API description and step by step fuzzes the fields to validate if you application can cope with the fuzzed parameters.")],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"APIFuzzer"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -s"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," test/test_api/openapi_v2.json"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -u"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," http://target:5000/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -r"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /tmp/reports/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --log"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," debug")])])])],-1)])),_:1}),t(n,{label:"Kiterunner"},{default:a(()=>i[2]||(i[2]=[s("p",null,[s("a",{href:"https://github.com/assetnote/kiterunner",target:"_blank",rel:"noreferrer"},"kiterunner"),e(" Excellent for discovering API endpoints. Use it to scan and brute force paths and parameters against target APIs.")],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," scan"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://domain.com/api/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -w"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," routes-large.kite"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 20")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," scan"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://domain.com/api/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -A=apiroutes-220828"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 20")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," brute"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://domain.com/api/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -A=raft-large-words"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 20"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d=0")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kr"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," brute"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://domain.com/api/"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -w"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /tmp/lang-english.txt"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 20"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d=0")])])])],-1)])),_:1})]),_:1}),i[5]||(i[5]=s("p",null,"Wordlist for discover API endpoints",-1)),i[6]||(i[6]=s("p",null,[s("a",{href:"https://github.com/chrislockard/api_wordlist",target:"_blank",rel:"noreferrer"},"chrislockard/api_wordlist")],-1)),i[7]||(i[7]=s("p",null,[s("a",{href:"https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d",target:"_blank",rel:"noreferrer"},"yassineaboukir/List of API endpoints & objects")],-1)),i[8]||(i[8]=s("h3",{id:"http-method",tabindex:"-1"},[e("HTTP method "),s("a",{class:"header-anchor",href:"#http-method","aria-label":'Permalink to "HTTP method"'},"​")],-1)),i[9]||(i[9]=s("p",null,"Identify HTTP Method used on the endpoints",-1)),t(r,null,{default:a(()=>[t(n,{label:"HTTPMethods"},{default:a(()=>i[3]||(i[3]=[s("p",null,[s("a",{href:"https://github.com/ShutdownRepo/httpmethods",target:"_blank",rel:"noreferrer"},"HTTPMethods"),e(" this can be useful to look for HTTP verb tampering vulnerabilities and dangerous HTTP methods.")],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"httpmethods"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -u"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," http://www.example.com/")])])])],-1)])),_:1})]),_:1}),i[10]||(i[10]=l(`<h3 id="parameter-tampering" tabindex="-1">Parameter tampering <a class="header-anchor" href="#parameter-tampering" aria-label="Permalink to &quot;Parameter tampering&quot;">​</a></h3><p>Experiment with adding or replacing parameters in requests to access unauthorized data or functionalities.</p><p>Example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://target.com/api/users/1 --&gt; 401</span></span>
<span class="line"><span>https://target.com/api?users=1 --&gt; 200</span></span>
<span class="line"><span>https://target.com/api/users?1 --&gt; 200</span></span></code></pre></div><h3 id="version-testing" tabindex="-1">Version testing <a class="header-anchor" href="#version-testing" aria-label="Permalink to &quot;Version testing&quot;">​</a></h3><p>Older API versions might be more susceptible to attacks. Always check for and test against multiple API versions.</p><p>Example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://target.com/api/v2/users/1 --&gt; 401</span></span>
<span class="line"><span>https://target.com/api/v1/users/1 --&gt; 200</span></span></code></pre></div><h2 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">​</a></h2><p><a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/web-api-pentesting" target="_blank" rel="noreferrer">hacktricks</a></p>`,10))])}const C=o(k,[["render",c]]);export{f as __pageData,C as default};
