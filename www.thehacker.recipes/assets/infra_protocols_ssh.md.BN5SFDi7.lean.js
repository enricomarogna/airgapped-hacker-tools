import{_ as o,c as p,a5 as l,G as e,w as t,j as s,a,B as r,o as k}from"./chunks/framework.B5CpDqM0.js";const m=JSON.parse('{"title":"üõ†Ô∏è SSH","description":"","frontmatter":{"authors":"ShutdownRepo"},"headers":[],"relativePath":"infra/protocols/ssh.md","filePath":"infra/protocols/ssh.md","lastUpdated":1724982529000}'),d={name:"infra/protocols/ssh.md"};function c(u,i,g,F,b,y){const n=r("PluginTabsTab"),h=r("PluginTabs");return k(),p("div",null,[i[6]||(i[6]=l(`<h1 id="üõ†Ô∏è-ssh" tabindex="-1">üõ†Ô∏è SSH <a class="header-anchor" href="#üõ†Ô∏è-ssh" aria-label="Permalink to &quot;üõ†Ô∏è SSH&quot;">‚Äã</a></h1><h2 id="theory" tabindex="-1">Theory <a class="header-anchor" href="#theory" aria-label="Permalink to &quot;Theory&quot;">‚Äã</a></h2><p>The SSH protocol (Secure Shell) is used to login from one machine to another securely. It offers several options for strong authentication, as it protects the connections and communications security and integrity with strong encryption. This connection can be used for terminal access, file transfers, and for tunneling other applications.</p><h2 id="enumeration" tabindex="-1">Enumeration <a class="header-anchor" href="#enumeration" aria-label="Permalink to &quot;Enumeration&quot;">‚Äã</a></h2><h3 id="authentication-type" tabindex="-1">Authentication type <a class="header-anchor" href="#authentication-type" aria-label="Permalink to &quot;Authentication type&quot;">‚Äã</a></h3><p>It is possible to enumerate the allowed authentication types with the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OpenSSH_8.1p1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OpenSSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.1.1d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2019</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Authentications</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> continue:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publickey,password,keyboard-interactive</span></span></code></pre></div><h3 id="banner-grabbing" tabindex="-1">Banner Grabbing <a class="header-anchor" href="#banner-grabbing" aria-label="Permalink to &quot;Banner Grabbing&quot;">‚Äã</a></h3><p>Useful to get basic information about the SSH server such as its type and version.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -vn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  22</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SSH-2.0-OpenSSH_7.4p1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Debian-10+deb9u7</span></span></code></pre></div><h3 id="server-s-public-ssh-key" tabindex="-1">Server&#39;s public SSH key <a class="header-anchor" href="#server-s-public-ssh-key" aria-label="Permalink to &quot;Server&#39;s public SSH key&quot;">‚Äã</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keyscan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -p</span></span></code></pre></div><h3 id="weak-cipher-algorithms" tabindex="-1">Weak Cipher Algorithms <a class="header-anchor" href="#weak-cipher-algorithms" aria-label="Permalink to &quot;Weak Cipher Algorithms&quot;">‚Äã</a></h3><p>Some auditing tools can help to quikly find the target version and which algorithms are available on the server in order to give recommendations to the customer.</p>`,14)),e(h,null,{default:t(()=>[e(n,{label:"sslscan"},{default:t(()=>i[0]||(i[0]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sslscan"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :22")])])])],-1)])),_:1}),e(n,{label:"nmap"},{default:t(()=>i[1]||(i[1]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"nmap"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -p22"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -n"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -sV"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --script"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ssh2-enum-algos")])])])],-1)])),_:1}),e(n,{label:"ssh-audit"},{default:t(()=>i[2]||(i[2]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ssh-audit"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -p"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 22"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -4")])])])],-1)])),_:1})]),_:1}),i[7]||(i[7]=s("h3",{id:"ssh-fuzzing",tabindex:"-1"},[a("SSH fuzzing "),s("a",{class:"header-anchor",href:"#ssh-fuzzing","aria-label":'Permalink to "SSH fuzzing"'},"‚Äã")],-1)),i[8]||(i[8]=s("p",null,[a("Fuzzing the SSH service could help to find vulnerabilities. The automated fuzzing is simple but not very targeted so it usually takes a lot of time and could miss some results."),s("br"),a(" The custom and the manual approach is more effective but it takes time to familiarize yourself with the target. Here is an example of a custom fuzzing : "),s("a",{href:"https://github.com/ShutdownRepo/Penetration-Testing-Guides/tree/5140c07692d27c9b3162088ed3aeff1bbbf23d23/servers/abusing-services/www.vegardno.net/2017/03/fuzzing-openssh-daemon-using-afl.html",target:"_blank",rel:"noreferrer"},"Fuzzing the OpenSSH daemon using AFL"),a(".")],-1)),e(h,null,{default:t(()=>[e(n,{label:"Automated fuzzing"},{default:t(()=>i[3]||(i[3]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"msfconsole")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"use"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," auxiliary/fuzzers/ssh/ssh_version_2")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RHOSTS"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"run")])])])],-1)])),_:1})]),_:1}),i[9]||(i[9]=l(`<h2 id="attacks" tabindex="-1">Attacks <a class="header-anchor" href="#attacks" aria-label="Permalink to &quot;Attacks&quot;">‚Äã</a></h2><h3 id="weak-cryptographic-keys" tabindex="-1">Weak cryptographic keys <a class="header-anchor" href="#weak-cryptographic-keys" aria-label="Permalink to &quot;Weak cryptographic keys&quot;">‚Äã</a></h3><h3 id="authentication-bruteforcing" tabindex="-1">Authentication bruteforcing <a class="header-anchor" href="#authentication-bruteforcing" aria-label="Permalink to &quot;Authentication bruteforcing&quot;">‚Äã</a></h3><h4 id="user-enumeration" tabindex="-1">User enumeration <a class="header-anchor" href="#user-enumeration" aria-label="Permalink to &quot;User enumeration&quot;">‚Äã</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">msfconsole</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scanner/ssh/ssh_enumusers</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RHOSTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> USER_FILE</span></span></code></pre></div><h4 id="password-bruteforcing" tabindex="-1">Password Bruteforcing <a class="header-anchor" href="#password-bruteforcing" aria-label="Permalink to &quot;Password Bruteforcing&quot;">‚Äã</a></h4>`,6)),e(h,null,{default:t(()=>[e(n,{label:"Hydra"},{default:t(()=>i[4]||(i[4]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hydra"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -l"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  -s"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 22"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -P"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   -t"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 4"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ssh")])])])],-1)])),_:1}),e(n,{label:"Metasploit"},{default:t(()=>i[5]||(i[5]=[s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"msfconsole")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"use"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," auxiliary/scanner/ssh/ssh_login")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PASS_FILE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/share/wordlists/password/rockyou.txt")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RHOSTS"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," STOP_ON_SUCCESS"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," username"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"run")])])])],-1)])),_:1})]),_:1}),i[10]||(i[10]=l('<p>Some common ssh credentials <a href="https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/ssh-betterdefaultpasslist.txt" target="_blank" rel="noreferrer">here </a>and <a href="https://github.com/danielmiessler/SecLists/blob/master/Passwords/Common-Credentials/top-20-common-SSH-passwords.txt" target="_blank" rel="noreferrer">here</a>.</p><h4 id="private-key-bruteforcing" tabindex="-1">Private key Bruteforcing <a class="header-anchor" href="#private-key-bruteforcing" aria-label="Permalink to &quot;Private key Bruteforcing&quot;">‚Äã</a></h4><h2 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">‚Äã</a></h2><p><a href="https://book.hacktricks.xyz/pentesting/pentesting-ssh" target="_blank" rel="noreferrer">https://book.hacktricks.xyz/pentesting/pentesting-ssh</a></p><p><a href="https://community.turgensec.com/ssh-hacking-guide/" target="_blank" rel="noreferrer">https://community.turgensec.com/ssh-hacking-guide/</a></p>',5))])}const f=o(d,[["render",c]]);export{m as __pageData,f as default};
